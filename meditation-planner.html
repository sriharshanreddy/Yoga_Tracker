<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meditation Planner | YogaTrack</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .timer-display {
            font-family: 'Courier New', monospace;
        }
        .breathing-animation {
            animation: breathe 8s infinite ease-in-out;
        }
        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Top Navigation -->
    <nav class="bg-white shadow-md">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <i class="fas fa-spa text-2xl text-green-500"></i>
                <h1 class="text-xl text-gray-800 font-bold">Yoga<span class="text-blue-500">Track</span></h1>
            </div>
            <div class="flex items-center space-x-4">
                <a href="dashboard.html" class="text-blue-800 font-bold text-xl hover:underline px-4 py-2 hover:text-red-600">Dashboard</a>
                <a href="index.html" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">
                    <i class="fas fa-sign-out-alt mr-1"></i> Logout
                </a>
            </div>
        </div>
    </nav>

    <div class="flex">
        <!-- Sidebar -->
      
        <!-- Main Content -->
        <div class="flex-1 p-8">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Meditation Planner</h2>
                <a href="meditation-history.html" class="text-blue-500 hover:text-blue-700 flex items-center">
                    <i class="fas fa-history mr-2"></i> View History
                </a>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- Meditation Configuration -->
                <div class="md:col-span-2 space-y-6">
                    <!-- Meditation Type Selection -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-xl font-semibold mb-4">Choose Meditation Type</h3>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                            <button class="meditation-type-btn p-4 border rounded-lg hover:bg-blue-50 hover:border-blue-300 focus:ring-2 focus:ring-blue-500" data-type="mindfulness">
                                <div class="text-center">
                                    <div class="mx-auto w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-2">
                                        <i class="fas fa-mind-share text-blue-500 text-xl"></i>
                                    </div>
                                    <span class="font-medium">Mindfulness</span>
                                </div>
                            </button>
                            <button class="meditation-type-btn p-4 border rounded-lg hover:bg-green-50 hover:border-green-300 focus:ring-2 focus:ring-green-500" data-type="breathing">
                                <div class="text-center">
                                    <div class="mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-2">
                                        <i class="fas fa-wind text-green-500 text-xl"></i>
                                    </div>
                                    <span class="font-medium">Breathing</span>
                                </div>
                            </button>
                            <button class="meditation-type-btn p-4 border rounded-lg hover:bg-purple-50 hover:border-purple-300 focus:ring-2 focus:ring-purple-500" data-type="loving-kindness">
                                <div class="text-center">
                                    <div class="mx-auto w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-2">
                                        <i class="fas fa-heart text-purple-500 text-xl"></i>
                                    </div>
                                    <span class="font-medium">Loving-Kindness</span>
                                </div>
                            </button>
                            <button class="meditation-type-btn p-4 border rounded-lg hover:bg-yellow-50 hover:border-yellow-300 focus:ring-2 focus:ring-yellow-500" data-type="body-scan">
                                <div class="text-center">
                                    <div class="mx-auto w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mb-2">
                                        <i class="fas fa-spa text-yellow-500 text-xl"></i>
                                    </div>
                                    <span class="font-medium">Body Scan</span>
                                </div>
                            </button>
                            <button class="meditation-type-btn p-4 border rounded-lg hover:bg-red-50 hover:border-red-300 focus:ring-2 focus:ring-red-500" data-type="visualization">
                                <div class="text-center">
                                    <div class="mx-auto w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-2">
                                        <i class="fas fa-mountain text-red-500 text-xl"></i>
                                    </div>
                                    <span class="font-medium">Visualization</span>
                                </div>
                            </button>
                            <button class="meditation-type-btn p-4 border rounded-lg hover:bg-indigo-50 hover:border-indigo-300 focus:ring-2 focus:ring-indigo-500" data-type="custom">
                                <div class="text-center">
                                    <div class="mx-auto w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-2">
                                        <i class="fas fa-sliders-h text-indigo-500 text-xl"></i>
                                    </div>
                                    <span class="font-medium">Custom</span>
                                </div>
                            </button>
                        </div>
                    </div>

                    <!-- Duration & Intensity -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-xl font-semibold mb-4">Duration & Intensity</h3>
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 mb-2">Duration (minutes)</label>
                                <div class="flex items-center">
                                    <button id="decrease-time" class="bg-gray-200 px-3 py-1 rounded-l">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                    <input type="number" id="meditation-time" value="10" min="1" max="120" 
                                           class="w-16 text-center border-t border-b border-gray-300 py-1">
                                    <button id="increase-time" class="bg-gray-200 px-3 py-1 rounded-r">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 mb-2">Intensity</label>
                                <select id="intensity-level" class="w-full border rounded p-2">
                                    <option value="gentle">Gentle</option>
                                    <option value="moderate" selected>Moderate</option>
                                    <option value="intense">Intense</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <label class="block text-gray-700 mb-2">Focus Area</label>
                            <div class="flex flex-wrap gap-2">
                                <button class="focus-tag px-3 py-1 bg-gray-100 rounded-full hover:bg-gray-200">Stress Relief</button>
                                <button class="focus-tag px-3 py-1 bg-gray-100 rounded-full hover:bg-gray-200">Sleep</button>
                                <button class="focus-tag px-3 py-1 bg-gray-100 rounded-full hover:bg-gray-200">Anxiety</button>
                                <button class="focus-tag px-3 py-1 bg-gray-100 rounded-full hover:bg-gray-200">Focus</button>
                                <button class="focus-tag px-3 py-1 bg-gray-100 rounded-full hover:bg-gray-200">Emotions</button>
                            </div>
                        </div>
                    </div>

                    <!-- Breathing Exercises -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-xl font-semibold mb-4">Breathing Patterns</h3>
                        
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="breathing-pattern border rounded-lg p-4 hover:bg-blue-50 cursor-pointer">
                                <h4 class="font-bold mb-2">4-7-8 Breathing</h4>
                                <p class="text-sm text-gray-600 mb-3">Inhale 4s, Hold 7s, Exhale 8s</p>
                                <div class="flex justify-center">
                                    <div class="breathing-animation w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center">
                                        <i class="fas fa-wind text-blue-500"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="breathing-pattern border rounded-lg p-4 hover:bg-green-50 cursor-pointer">
                                <h4 class="font-bold mb-2">Box Breathing</h4>
                                <p class="text-sm text-gray-600 mb-3">Inhale 4s, Hold 4s, Exhale 4s</p>
                                <div class="flex justify-center">
                                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">
                                        <i class="fas fa-square text-green-500"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="breathing-pattern border rounded-lg p-4 hover:bg-purple-50 cursor-pointer">
                                <h4 class="font-bold mb-2">Equal Breathing</h4>
                                <p class="text-sm text-gray-600 mb-3">Inhale 5s, Exhale 5s</p>
                                <div class="flex justify-center">
                                    <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center">
                                        <i class="fas fa-equals text-purple-500"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Meditation Timer & Controls -->
                <div class="space-y-6">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-xl font-semibold mb-4">Meditation Timer</h3>
                        
                        <div class="text-center mb-6">
                            <div id="timer-display" class="timer-display text-5xl font-mono mb-4">10:00</div>
                            <div class="flex justify-center space-x-4">
                                <button id="start-timer" class="bg-green-500 text-white px-6 py-2 rounded-full hover:bg-green-600">
                                    <i class="fas fa-play mr-1"></i> Start
                                </button>
                                <button id="pause-timer" class="bg-yellow-500 text-white px-6 py-2 rounded-full hover:bg-yellow-600" disabled>
                                    <i class="fas fa-pause mr-1"></i> Pause
                                </button>
                                <button id="reset-timer" class="bg-red-500 text-white px-6 py-2 rounded-full hover:bg-red-600">
                                    <i class="fas fa-redo mr-1"></i> Reset
                                </button>
                            </div>
                        </div>
                        
                        <div class="mt-6">
                            <h4 class="font-medium mb-2">Session Options</h4>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded text-blue-500 mr-2" checked>
                                    <span>Opening bell</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded text-blue-500 mr-2" checked>
                                    <span>Interval bells</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="rounded text-blue-500 mr-2">
                                    <span>Background sounds</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Focus Tips -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-xl font-semibold mb-4">Focus Tips</h3>
                        
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <div class="bg-blue-100 p-2 rounded-full mr-3">
                                    <i class="fas fa-lightbulb text-blue-500"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium">Posture Check</h4>
                                    <p class="text-sm text-gray-600">Sit with straight spine, relaxed shoulders</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="bg-green-100 p-2 rounded-full mr-3">
                                    <i class="fas fa-lightbulb text-green-500"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium">Mind Wandering</h4>
                                    <p class="text-sm text-gray-600">Gently return focus to breath when distracted</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="bg-purple-100 p-2 rounded-full mr-3">
                                    <i class="fas fa-lightbulb text-purple-500"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium">Environment</h4>
                                    <p class="text-sm text-gray-600">Find a quiet space with minimal distractions</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Audio Sessions -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-xl font-semibold mb-4">Guided Sessions</h3>
                        
                        <div class="space-y-3">
                            <div class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                                <div class="bg-blue-100 p-3 rounded-full mr-3">
                                    <i class="fas fa-headphones text-blue-500"></i>
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-medium">Morning Mindfulness</h4>
                                    <p class="text-xs text-gray-500">10 min • Beginner</p>
                                </div>
                                <button class="text-blue-500 hover:text-blue-700">
                                    <i class="fas fa-play"></i>
                                </button>
                            </div>
                            <div class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                                <div class="bg-green-100 p-3 rounded-full mr-3">
                                    <i class="fas fa-headphones text-green-500"></i>
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-medium">Deep Relaxation</h4>
                                    <p class="text-xs text-gray-500">15 min • Intermediate</p>
                                </div>
                                <button class="text-blue-500 hover:text-blue-700">
                                    <i class="fas fa-play"></i>
                                </button>
                            </div>
                            <div class="flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer">
                                <div class="bg-purple-100 p-3 rounded-full mr-3">
                                    <i class="fas fa-headphones text-purple-500"></i>
                                </div>
                                <div class="flex-1">
                                    <h4 class="font-medium">Body Scan</h4>
                                    <p class="text-xs text-gray-500">20 min • Advanced</p>
                                </div>
                                <button class="text-blue-500 hover:text-blue-700">
                                    <i class="fas fa-play"></i>
                                </button>
                            </div>
                        </div>
                        
                        <button class="mt-4 w-full bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 rounded">
                            <i class="fas fa-music mr-2"></i> Browse More Sessions
                        </button>
                    </div>
                </div>
            </div>

            <!-- Start Session Button -->
            <div class="mt-8 text-center">
                <button id="start-session" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full text-lg shadow-lg">
                    <i class="fas fa-spa mr-2"></i> Begin Meditation Session
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Timer functionality
            let timer;
            let totalSeconds = 600; // 10 minutes default
            const timerDisplay = document.getElementById('timer-display');
            const startBtn = document.getElementById('start-timer');
            const pauseBtn = document.getElementById('pause-timer');
            const resetBtn = document.getElementById('reset-timer');
            const timeInput = document.getElementById('meditation-time');
            
            function updateTimerDisplay() {
                const minutes = Math.floor(totalSeconds / 60);
                const seconds = totalSeconds % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
            
            function startTimer() {
                if (timer) clearInterval(timer);
                timer = setInterval(() => {
                    if (totalSeconds > 0) {
                        totalSeconds--;
                        updateTimerDisplay();
                    } else {
                        clearInterval(timer);
                        // Play completion sound
                        new Audio('https://assets.mixkit.co/sfx/preview/mixkit-alarm-digital-clock-beep-989.mp3').play();
                    }
                }, 1000);
                startBtn.disabled = true;
                pauseBtn.disabled = false;
            }
            
            function pauseTimer() {
                clearInterval(timer);
                startBtn.disabled = false;
                pauseBtn.disabled = true;
            }
            
            function resetTimer() {
                clearInterval(timer);
                totalSeconds = parseInt(timeInput.value) * 60;
                updateTimerDisplay();
                startBtn.disabled = false;
                pauseBtn.disabled = true;
            }
            
            startBtn.addEventListener('click', startTimer);
            pauseBtn.addEventListener('click', pauseTimer);
            resetBtn.addEventListener('click', resetTimer);
            
            // Time adjustment buttons
            document.getElementById('increase-time').addEventListener('click', function() {
                timeInput.value = parseInt(timeInput.value) + 1;
                resetTimer();
            });
            
            document.getElementById('decrease-time').addEventListener('click', function() {
                if (parseInt(timeInput.value) > 1) {
                    timeInput.value = parseInt(timeInput.value) - 1;
                    resetTimer();
                }
            });
            
            timeInput.addEventListener('change', function() {
                if (parseInt(this.value) < 1) this.value = 1;
                if (parseInt(this.value) > 120) this.value = 120;
                resetTimer();
            });
            
            // Meditation type selection
            const meditationTypeBtns = document.querySelectorAll('.meditation-type-btn');
            meditationTypeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    meditationTypeBtns.forEach(b => b.classList.remove('ring-2', 'ring-blue-500'));
                    this.classList.add('ring-2', 'ring-blue-500');
                });
            });
            
            // Breathing pattern selection
            const breathingPatterns = document.querySelectorAll('.breathing-pattern');
            breathingPatterns.forEach(pattern => {
                pattern.addEventListener('click', function() {
                    breathingPatterns.forEach(p => p.classList.remove('border-blue-500', 'bg-blue-50'));
                    this.classList.add('border-blue-500', 'bg-blue-50');
                });
            });
            
            // Focus tags selection
            const focusTags = document.querySelectorAll('.focus-tag');
            focusTags.forEach(tag => {
                tag.addEventListener('click', function() {
                    this.classList.toggle('bg-gray-100');
                    this.classList.toggle('bg-blue-500');
                    this.classList.toggle('text-white');
                });
            });
            
            // Start session button
            document.getElementById('start-session').addEventListener('click', function() {
                const selectedType = document.querySelector('.meditation-type-btn.ring-2')?.dataset.type || 'mindfulness';
                const duration = parseInt(timeInput.value);
                const intensity = document.getElementById('intensity-level').value;
                
                alert(`Starting ${duration} minute ${selectedType.replace('-', ' ')} meditation at ${intensity} intensity`);
                
                // In a real app, you would save this to your database
                const session = {
                    type: selectedType,
                    duration: duration,
                    intensity: intensity,
                    timestamp: new Date().toISOString()
                };
                
                // Save to localStorage for demo purposes
                let sessions = JSON.parse(localStorage.getItem('meditation-sessions') || '[]');
                sessions.push(session);
                localStorage.setItem('meditation-sessions', JSON.stringify(sessions));
                
                // Start the timer automatically
                startTimer();
            });
            
            // Initialize welcome message
            const userData = JSON.parse(localStorage.getItem("user"));
            const welcomeMsg = document.getElementById("welcome-msg");
            if (userData && userData.name && welcomeMsg) {
                welcomeMsg.textContent = `Welcome, ${userData.name}`;
            }
            
            // Initialize timer display
            updateTimerDisplay();
        });
    </script>
</body>
</html>